# Laravel application with FrankenPHP
{
	auto_https off
	admin off
}

:8000 {
	# Enable FrankenPHP
	frankenphp

	# Set root directory
	root * public

	# Enable PHP for Laravel
	php_fastcgi unix//tmp/frankenphp.sock

	# Handle Laravel routes
	try_files {path} {path}/ /index.php?{query}

	# Security headers
	header {
		X-Frame-Options DENY
		X-Content-Type-Options nosniff
		Referrer-Policy strict-origin-when-cross-origin
	}

	# Handle static assets
	@static {
		file
		path *.css *.js *.ico *.png *.jpg *.jpeg *.gif *.svg *.woff *.woff2 *.ttf *.eot
	}
	header @static Cache-Control "public, max-age=31536000"

	# Logging
	log {
		output file access.log
	}
}