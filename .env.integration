# Environment Configuration for ERP Integration

# Integration Service Configuration
INTEGRATION_SERVICE_URL=http://integration-service:8083/integration
INTEGRATION_API_KEY=hr-integration-2024-secure-key-${RANDOM_SUFFIX}
INTEGRATION_TIMEOUT=45

# Laravel HR System Configuration
LARAVEL_BASE_URL=http://laravel-app:8000
LARAVEL_API_TOKEN=your-laravel-api-token-here
LARAVEL_TIMEOUT=30000

# Employee Synchronization
EMPLOYEE_SYNC_ENABLED=true
EMPLOYEE_BATCH_SIZE=50
EMPLOYEE_SYNC_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# Payroll Synchronization
PAYROLL_SYNC_ENABLED=true
PAYROLL_BATCH_SIZE=25
PAYROLL_SYNC_SCHEDULE="0 3 * * *"  # Daily at 3 AM

# Accounting Synchronization
ACCOUNTING_SYNC_ENABLED=true
ACCOUNTING_BATCH_SIZE=100
ACCOUNTING_SYNC_SCHEDULE="0 4 * * *"  # Daily at 4 AM

# Frappe/ERPNext Configuration Examples:
# For Frappe Cloud: https://yourcompany.frappe.cloud
# For Self-hosted: https://erp.yourcompany.com
# For Local Development: http://localhost:8000
FRAPPE_ENABLED=true
FRAPPE_BASE_URL=https://yourcompany.frappe.cloud
FRAPPE_API_KEY=your-frappe-api-key-here
FRAPPE_API_SECRET=your-frappe-api-secret-here
FRAPPE_TIMEOUT=60000
FRAPPE_RETRY_ATTEMPTS=3

# Example for ERPNext.com:
# FRAPPE_BASE_URL=https://yourcompany.erpnext.com
# FRAPPE_API_KEY=your-api-key-from-erpnext-user-settings
# FRAPPE_API_SECRET=your-api-secret-from-erpnext-user-settings

# Generic ERP Configuration (Alternative to Frappe)
# Examples for different ERP systems:
# SAP: GENERIC_ERP_BASE_URL=https://your-sap-system.com:8000/sap/bc/rest/api
# Oracle ERP: GENERIC_ERP_BASE_URL=https://your-oracle-instance.oraclecloud.com/api
# Microsoft Dynamics: GENERIC_ERP_BASE_URL=https://your-dynamics-instance.dynamics.com/api/data/v9.2
# Custom REST API: GENERIC_ERP_BASE_URL=https://api.yourcompany.com/v1/erp
GENERIC_ERP_ENABLED=false
GENERIC_ERP_BASE_URL=https://your-erp-system.com/api
GENERIC_ERP_AUTH_TYPE=bearer  # Options: bearer, basic, api-key
GENERIC_ERP_TOKEN=your-bearer-token-here
GENERIC_ERP_USERNAME=erp_api_user
GENERIC_ERP_PASSWORD=secure_password_123

# For API Key authentication (e.g., some SaaS ERP systems):
# GENERIC_ERP_AUTH_TYPE=api-key
# GENERIC_ERP_TOKEN=your-api-key-here

# For Basic authentication:
# GENERIC_ERP_AUTH_TYPE=basic
# GENERIC_ERP_USERNAME=your-username
# GENERIC_ERP_PASSWORD=your-password

# Queue Configuration
QUEUE_PROVIDER=rabbitmq
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_EXCHANGE=erp.exchange

# Database Configuration
DB_USERNAME=integration_user
DB_PASSWORD=integration_pass
DB_NAME=integration_db
DB_HOST=integration-db
DB_PORT=5432

# Monitoring and Logging
INTEGRATION_MONITORING_ENABLED=true
INTEGRATION_LOG_LEVEL=info
INTEGRATION_METRICS_ENABLED=true
INTEGRATION_HEALTH_CHECK_INTERVAL=300

# Security Settings
INTEGRATION_ENCRYPTION_ENABLED=true
INTEGRATION_RATE_LIMIT=100
INTEGRATION_ALLOWED_IPS=*

# Error Handling
INTEGRATION_RETRY_ATTEMPTS=3
INTEGRATION_RETRY_DELAY=5000
INTEGRATION_DEAD_LETTER_ENABLED=true
INTEGRATION_ERROR_NOTIFICATION_ENABLED=true

# Alerting Configuration (for Grafana/Prometheus alerts)
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_SMTP_HOST=smtp.gmail.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=alerts@yourcompany.com
ALERT_EMAIL_PASSWORD=your-app-password
ALERT_EMAIL_TO=admin@yourcompany.com,devops@yourcompany.com

# Slack Notifications (optional)
ALERT_SLACK_ENABLED=false
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_SLACK_CHANNEL=#erp-alerts

# Microsoft Teams Notifications (optional)
ALERT_TEAMS_ENABLED=false
ALERT_TEAMS_WEBHOOK_URL=https://your-tenant.webhook.office.com/webhookb2/...

# Performance Thresholds for Alerts
ALERT_RESPONSE_TIME_THRESHOLD=5000  # milliseconds
ALERT_ERROR_RATE_THRESHOLD=5        # percentage
ALERT_SYNC_FAILURE_THRESHOLD=3      # consecutive failures

# Production Environment Settings
ENVIRONMENT=production  # Options: development, staging, production
SSL_ENABLED=true
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://admin.yourcompany.com

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# Data Validation
STRICT_DATA_VALIDATION=true
SKIP_INVALID_RECORDS=false
VALIDATE_FOREIGN_KEYS=true